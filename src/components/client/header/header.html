<nav
  :class="[ 'w-full', 'h-16', 'md:h-20', 'shadow-md shadow-white', 'flex','px-8','md:px-24', 'justify-between', 'fixed', 'top-0', 'z-50', 'bg-white']"
>
  <router-link
    to="/home"
    class="h-full flex justify-center items-center cursor-pointer"
  >
    <h1
      class="text-black text-xl font-bold inline-block uppercase hover:text-primary"
    >
      Novalance
    </h1>
  </router-link>
  <div class="flex items-center gap-8 justify-around">
    <router-link
      to="/chat_client_freelancer/"
      class="text-black hidden lg:flex items-center gap-2 cursor-pointer group"
    >
      <Icon
        icon="jam:messages-f"
        width="20"
        height="20"
        class="text-black group-hover:text-primary"
      />
      <span class="group-hover:text-primary">Messages</span>
    </router-link>

    <router-link
      to="/my_purchases"
      class="hidden lg:flex items-center gap-2 group"
    >
      <div class="flex cursor-pointer text-black group-hover:text-primary">
        <Icon
          icon="bxs:purchase-tag"
          width="20"
          height="20"
          class="text-black group-hover:text-primary"
        />
        <span>My Purchases</span>
      </div>
    </router-link>

    <div
      @click="isShow = !isShow"
      class="relative hidden lg:flex items-center gap-2 text-black cursor-pointer group"
    >
      <Icon
        icon="majesticons:briefcase"
        width="20"
        height="20"
        class="text-black group-hover:text-primary"
      />
      <div class="flex items-center">
        <span class="group-hover:text-primary">Jobs</span>
        <Icon
          icon="ep:arrow-down-bold"
          width="16"
          height="16"
          class="ml-2 mt-1 transition-all duration-200 text-black group-hover:text-primary"
          :class="{ 'rotate-180': isShow }"
        />
      </div>
    </div>

    <div
      v-if="isShow"
      v-motion-pop-visible
      class="py-5 px-2 w-44 h-36 bg-white shadow-md absolute top-12 left-2/3 transition-all duration-200 rounded-lg"
    >
      <ul class="text-black">
        <router-link
          to="/my_jobs"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="eos-icons:service" class="mr-2" />
          <span>My Jobs</span>
        </router-link>
        <router-link
          to="/create_job"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="basil:edit-solid" class="mr-2" />
          <span>Create Job Post</span>
        </router-link>
        <router-link
          to="/proposals"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="mdi:deal" class="mr-2" />
          <span>Proposals</span>
        </router-link>
      </ul>
    </div>

    <div class="flex items-center gap-2">
      <Icon
        icon="iconamoon:notification-fill"
        width="20"
        height="20"
        class="cursor-pointer text-black hover:text-primary"
      />

      <div
        @click="isShow2 = !isShow2"
        class="rounded-full bg-black text-white text-sm w-8 h-8 hidden lg:flex justify-center items-center uppercase relative cursor-pointer group"
      >
        <div
          v-if="isShow2"
          v-motion-pop-visible
          class="py-5 px-2 w-40 h-24 bg-white text-black shadow-md absolute top-12 transition-all duration-200 rounded-lg"
        >
          <ul class="text-black">
            <router-link
              to="/client/profile"
              class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
            >
              <Icon icon="iconamoon:profile-circle-fill" class="mr-2" />
              <span>My Profile</span>
            </router-link>
            <button
              @click="logout"
              class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
            >
              <Icon icon="clarity:logout-solid" class="mr-2" />
              <span>Logout</span>
            </button>
          </ul>
        </div>
        {{ user?.first_name[0] }}
      </div>

      <button
        @click="toggleMenu"
        class="lg:hidden p-2 hover:bg-purple text-black rounded-full"
      >
        <Icon
          v-if="showMobileMenu"
          icon="material-symbols:close"
          width="24"
          height="24"
        />
        <Icon v-else icon="ri:menu-4-fill" width="24" height="24" />
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<nav
  v-if="showMobileMenu"
  v-motion-pop-visible
  class="fixed top-0 right-0 inset-[1rem] bg-white shadow-md rounded-bl-full z-50 flex flex-col items-center justify-center space-y-8"
>
  <button
    @click="toggleMenu"
    class="lg:hidden p-2 text-black rounded-full absolute top-4 right-4"
  >
    <Icon icon="material-symbols:close" width="32" height="32" />
  </button>
  <router-link
    to="/"
    class="text-black hover:text-primary font-bold uppercase mb-4 flex justify-center items-center cursor-pointer"
  >
    <!-- <img :src="logo" class="mr-1 w-32 h-12 rounded-3xl" alt=""> -->
    Novalance
  </router-link>
  <router-link to="/my_purchases" class="flex flex-col w-32">
    <div class="text-black flex items-center gap-2 cursor-pointer">
      <Icon
        icon="bxs:purchase-tag"
        width="20"
        height="20"
        style="color: #000"
      />
      My Purchases
    </div>
  </router-link>
  <div
    @click="isShow=!isShow"
    class="relative flex items-center gap-2 w-32 text-black cursor-pointer"
  >
    <Icon
      icon="majesticons:briefcase"
      width="20"
      height="20"
      style="color: #000"
    />
    <div class="flex items-center text-sm">
      Jobs
      <Icon
        icon="ep:arrow-down-bold"
        width="14"
        height="14"
        class="ml-2 mt-1 transition-all duration-200"
        :class="[isShow ? 'rotate-180': '']"
      />
    </div>
    <div
      v-motion-pop-visible
      class="py-5 px-2 w-44 h-36 bg-white text-black shadow-md absolute top-12 z-50 transition-all duration-200 rounded-lg"
      v-if="isShow"
    >
      <ul class="text-black">
        <router-link
          to="/my_jobs"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="eos-icons:service" class="mr-2" />
          <span>My Jobs</span>
        </router-link>
        <router-link
          to="/create_job"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="basil:edit-solid" class="mr-2" />
          <span>Create Job Post</span>
        </router-link>
        <router-link
          to="/proposals"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="mdi:deal" class="mr-2" />
          <span>Proposals</span>
        </router-link>
      </ul>
    </div>
  </div>
  <router-link
    to="/chat_client_freelancer/"
    class="text-black flex items-center gap-2 w-32 cursor-pointer"
  >
    <Icon icon="jam:messages-f" width="20" height="20" style="color: #000" />
    Messages
  </router-link>
  <div
    @click="isShow2=!isShow2"
    class="text-black flex w-32 relative cursor-pointer"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="mr-2"
      width="24"
      height="24"
      viewBox="0 0 24 24"
    >
      <path
        fill="currentColor"
        fill-rule="evenodd"
        d="M12 4a8 8 0 0 0-6.96 11.947A4.99 4.99 0 0 1 9 14h6a4.99 4.99 0 0 1 3.96 1.947A8 8 0 0 0 12 4Zm7.943 14.076A9.959 9.959 0 0 0 22 12c0-5.523-4.477-10-10-10S2 6.477 2 12a9.958 9.958 0 0 0 2.057 6.076l-.005.018l.355.413A9.98 9.98 0 0 0 12 22a9.947 9.947 0 0 0 5.675-1.765a10.055 10.055 0 0 0 1.918-1.728l.355-.413l-.005-.018ZM12 6a3 3 0 1 0 0 6a3 3 0 0 0 0-6Z"
        clip-rule="evenodd"
      />
    </svg>
    Profile
    <Icon
      icon="ep:arrow-down-bold"
      width="14"
      height="14"
      class="ml-2 mt-1 transition-all duration-200"
      :class="[isShow2 ? 'rotate-180': '']"
    />
    <div
      v-motion-pop-visible
      class="py-5 px-2 w-40 h-28 bg-white text-black shadow-md absolute bottom-10 transition-all duration-200 rounded-lg"
      v-if="isShow2"
    >
      <ul class="text-black">
        <router-link
          to="/client/profile"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="iconamoon:profile-circle-fill" class="mr-2" />
          <span>My Profile</span>
        </router-link>
        <button
          @click="logout"
          class="flex items-center mb-2 p-1 transition-colors duration-300 rounded-lg hover:bg-violet-100 hover:bg-opacity-75 cursor-pointer"
        >
          <Icon icon="clarity:logout-solid" class="mr-2" />
          <span>Logout</span>
        </button>
      </ul>
    </div>
  </div>
</nav>
